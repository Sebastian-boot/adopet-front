<div class="container mx-auto px-4 py-8">
  <h2 class="text-2xl font-bold mb-6 dark:text-white">
    fundaciones de Animales en Adopet!
  </h2>

  <div *ngIf="foundations.length === 0" class="text-center text-gray-500">
    No hay fundaciones disponibles.
  </div>

  <div class="relative">
    <button
      (click)="scrollLeft()"
      class="absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 border border-gray-200"
      *ngIf="canScrollLeft"
    >
      <svg
        class="w-6 h-6 text-gray-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"
        />
      </svg>
    </button>

    <div class="flex overflow-x-hidden space-x-4 pb-4" #scrollContainer>
      <div
        *ngFor="let foundation of foundations"
        (click)="openModal(foundation)"
        class="flex-shrink-0 w-80 bg-white shadow-lg rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"
      >
        <div class="relative">
          <img
            [src]="foundation.logo"
            alt="foundation Image"
            class="w-full h-56 object-cover"
          />
        </div>

        <div class="p-4">
          <h3 class="font-bold text-lg mb-2 truncate dark:text-white">
            {{ foundation.name }}
          </h3>

          <p class="text-sm text-gray-500 line-clamp-2 mb-4 dark:text-gray-400">
            {{ foundation.description }}
          </p>

          <div class="mb-4 space-y-2">
            <p class="text-sm text-gray-600 dark:text-gray-400">
              <i class="fas fa-map-marker-alt mr-2"></i>
              {{ foundation.website }}
            </p>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              <i class="fas fa-clock mr-2"></i>
              Puntuación: {{ foundation.averageRating }}
            </p>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M9.37483 4.63563C8.63771 6.2573 8.12886 8.48118 8.02124 11H15.9788C15.8711 8.48118 15.3623 6.2573 14.6252 4.63563C13.7509 2.71217 12.7474 2 12 2C11.2526 2 10.2491 2.71217 9.37483 4.63563ZM8.07531 2.79955C7.88573 3.12233 7.71193 3.4608 7.5541 3.80802C6.6821 5.72642 6.12807 8.24241 6.01959 11H2.04938C2.41631 7.30433 4.79525 4.20055 8.07531 2.79955ZM15.9247 2.79955C16.1143 3.12233 16.2881 3.4608 16.4459 3.80802C17.3179 5.72642 17.8719 8.24241 17.9804 11H21.9506C21.5837 7.30433 19.2048 4.20055 15.9247 2.79955ZM21.9506 13H17.9804C17.8719 15.7576 17.3179 18.2736 16.4459 20.192C16.2881 20.5392 16.1143 20.8777 15.9247 21.2004C19.2048 19.7995 21.5837 16.6957 21.9506 13ZM11.9956 22C11.9971 22 11.9985 22 12 22C12.7474 22 13.7509 21.2878 14.6252 19.3644C15.3623 17.7427 15.8711 15.5188 15.9788 13H8.02124C8.12886 15.5188 8.63771 17.7427 9.37483 19.3644C10.2474 21.2841 11.2486 21.9972 11.9956 22ZM8.07531 21.2004C4.79524 19.7994 2.41631 16.6957 2.04938 13H6.01959C6.12807 15.7576 6.6821 18.2736 7.5541 20.192C7.71192 20.5392 7.88573 20.8777 8.07531 21.2004Z"
                  fill="#33363F" />
              </svg>

              <span class="text-xs text-gray-500">
                {{ foundation.address | date : "shortDate" }}
              </span>
            </div>
            <div class="text-xs text-gray-400">
              {{ foundation.email }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <button
      (click)="scrollRight()"
      class="absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 border border-gray-200"
      *ngIf="canScrollRight"
    >
      <svg
        class="w-6 h-6 text-gray-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5l7 7-7 7"
        />
      </svg>
    </button>
  </div>
</div>

<div
  *ngIf="selectedFoundation"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
>
  <div
    class="bg-white dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"
  >
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-2xl font-bold dark:text-white">
        {{ selectedFoundation.name }}
      </h3>
      <button (click)="closeModal()" class="text-gray-500 hover:text-gray-700">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>

    <p class="text-gray-600 mb-4 text-lg dark:text-gray-400">
      {{ selectedFoundation.description }}
    </p>

    <div class="mb-8">
      <div class="grid gap-4 mb-4 dark:text-white">
        <div>
          <p>
            <span class="font-medium">Descripción:</span>
            {{ selectedFoundation.description }}
          </p>
          <p>
            <span class="font-medium">Mision:</span>
            {{ selectedFoundation.mission }}
          </p>
          <p>
            <span class="font-medium">Vision:</span>
            {{ selectedFoundation.vission }}
          </p>
          <p>
            <span class="font-medium">Estado de la fundación:</span>
            {{ selectedFoundation.status }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
