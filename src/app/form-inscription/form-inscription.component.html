<div class="min-h-screen bg-gray-100 flex items-center justify-center p-4">
  <div class="w-full max-w-6xl bg-white rounded-2xl shadow-lg flex flex-col md:flex-row overflow-hidden">
    <!-- Lado izquierdo - Fondo e imagen -->
    <div class="w-full md:w-1/2 bg-primary p-8 text-white flex-col justify-center items-center md:flex hidden">
      <h1 class="text-2xl font-bold uppercase mb-8">
        Uniendo Comunidades y Rescatistas
      </h1>

      <img src="/assets/images/register-illustration.svg"
           alt="animals"
           class="w-3/4 h-auto max-w-md rounded-[40%] mb-8" />
    </div>

    <div class="w-full md:w-1/2 p-8">
      <div class="mb-8">
        <h2 class="text-3xl font-bold">
          Crea tu cuenta en <strong class="text-primary">Adopet</strong>
        </h2>
        <p class="text-gray-600 text-sm">
          Únete a nuestra comunidad y contribuye al rescate y cuidado de animales abandonados. ¡Empieza hoy mismo!
        </p>

      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit($event)" class="space-y-4">
        <!-- Mensaje de error -->
        <div *ngIf="registrationError"
             class="text-red-600 text-center text-sm bg-red-50 p-2 rounded">
          {{ registrationError }}
        </div>

        <!-- Nombre y Apellido -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <input formControlName="name"
                   placeholder="Nombre"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("name") }}
            </div>
          </div>
          <div>
            <input formControlName="lastName"
                   placeholder="Apellido"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('lastName')?.invalid && form.get('lastName')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("lastName") }}
            </div>
          </div>
        </div>

        <!-- Documento y Fecha -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <input formControlName="personalId"
                   type="number"
                   placeholder="N° de Documento"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('personalId')?.invalid && form.get('personalId')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("personalId") }}
            </div>
          </div>
          <div>
            <input formControlName="birthDate"
                   type="date"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('birthDate')?.invalid && form.get('birthDate')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("birthDate") }}
            </div>
          </div>
        </div>

        <!-- Teléfono -->
        <div class="flex gap-2">
          <select formControlName="prefix"
                  class="w-24 px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition">
            <option value="57">+57</option>
            <option value="87">+87</option>
          </select>
          <input formControlName="phoneNumber"
                 placeholder="N° de Teléfono"
                 class="flex-1 px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
        </div>

        <!-- Dirección -->
        <input formControlName="address"
               placeholder="Dirección"
               class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />

        <!-- Usuario y Email -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <input formControlName="username"
                   placeholder="Nombre de Usuario"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('username')?.invalid && form.get('username')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("username") }}
            </div>
          </div>
          <div>
            <input formControlName="email"
                   placeholder="Correo"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("email") }}
            </div>
          </div>
        </div>

        <!-- Contraseñas -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <input formControlName="password"
                   type="password"
                   placeholder="Contraseña"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("password") }}
            </div>
          </div>
          <div>
            <input formControlName="confirm"
                   type="password"
                   placeholder="Confirmar Contraseña"
                   class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition" />
            <div *ngIf="form.get('confirm')?.invalid && form.get('confirm')?.touched"
                 class="text-red-500 text-sm mt-1">
              {{ getErrorMessage("confirm") }}
            </div>
          </div>
        </div>

        <!-- Términos y condiciones -->
        <div class="flex items-center space-x-2 justify-between">
          <div>
            <input formControlName="terms_conditions"
                   type="checkbox"
                   class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary" />
            <label class="text-sm text-gray-600">
              Acepto <span class="underline italic text-primary hover:text-primary/80 cursor-pointer">términos y condiciones</span>
            </label>
          </div>
          <a routerLink="/login" class="text-sm text-primary hover:text-primary/80 underline">
            ¿Ya tienes cuenta con nosotros?
          </a>
        </div>

        <!-- Botones -->
        <div class="space-y-4 pt-4 ">
          <button type="button"
                  (click)="onSubmitFoundation($event)"
                  class="w-full py-3 px-4 bg-primary hover:bg-primary/90 text-white rounded-lg transition">
            Registrarme como fundación
          </button>
          <button type="submit"
                  class="w-full py-3 px-4 border-2 border-primary text-primary hover:bg-gray-50 rounded-lg transition">
            Registrarme
          </button>
        </div>
      </form>
    </div>
  </div>
  <app-mail-alert-modal [isOpen]="showModal" [email]="form.get('email')?.value"></app-mail-alert-modal>
</div>
